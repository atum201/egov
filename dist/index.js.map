{"version":3,"sources":["index.js"],"names":["corsOptions","randomVersion","upload","dest","__dirname","any","uploadUserStruct","single","fileTypeFA","getFileTypeFA","r","i","length","j","mimetype","updateRecent","recent","id","type","push","unread","last","Date","getTime","findIndex","trim","remove","sort","r1","r2","post","req","res","file","fileName","files","originalname","fileType","path","creater","body","from","saveAsync","then","message","undefined","toGroup","toUser","content","state","time","socker","forEach","sk","userId","emit","SOCKET_GET_MESSAGE","temp","findOneAsync","_id","user","toString","group","member","indexOf","idsIn","flatMap","m","findAsync","$in","users","rid","ii","end","d","day","getDate","month","getMonth","year","getFullYear","hour","getHours","minute","getMinutes","filename","username","fileUpload","split","newpath","replace","rename","err","console","log","send","phancapId","catch","error","get","params","idfile","download","e","_socket","userOnline","userIds","CREATE_GROUP","UPDATE_GROUP","REMOVE_GROUP","SOCKET_SEND_MESSAGE","SOCKET_SEND_TYPING","SOCKET_GET_TYPING","SOCKET_SEND_END_TYPING","SOCKET_GET_END_TYPING","SOCKET_SEND_CONNECT","SOCKET_GET_CONNECT","SOCKET_SEND_DISCONECT","SOCKET_GET_DISCONNECT","SOCKET_SEND_READ_MESSAGE","SOCKET_SEND_DEL_MESSAGE","SOCKET_GET_READ_MESSAGE","SOCKET_GET_SEND_MESSAGE","SOCKET_GET_DEL_MESSAGE","SOCKET_SEND_UPDATE_GROUP","SOCKET_GET_UPDATE_GROUP","SOCKET_GET_REMOVE_GROUP","SOCKET_SEND_UPDATE_USER","SOCKET_GET_UPDATE_USER","SOCKET_SEND_LOGIN_STORE","SOCKET_GET_LOGIN_STORE","SOCKET_SEND_MANY_LOGIN_STORE","SOCKET_GET_MANY_LOGIN_STORE","SOCKET_BROADCAST_CONNECT","SOCKET_BROADCAST_DISCONNECT","SOCKET_SEND_NOTIFY","SOCKET_GET_NOTIFY","g","name","fields","title","action","updateGroup","args","resolve","root","ids","groups","memberOut","memberIn","difference","idsOut","splice","leave","join","messages","removeAsync","online","schema","query","newMessage","login","logins","userById","phancap","mutation","updateUser","use","graphiql","rootValue","request","server","Server","io","promisifyAll","connect","db","socketOptions","keepAlive","connection","on","Error","Array","prototype","chunk","n","slice","concat","findOne","execAsync","socket","data","broadcast","first","indexstore","v","updateAsync","$set","timecache","uId","receiver","is","boxId","result","fD","index","k","ur","ar","del","listen","port"],"mappings":"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","file":"index.js","sourceRoot":".."}