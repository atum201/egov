{"version":3,"sources":["server/models/user.js"],"names":["UserSchema","Schema","userId","type","String","default","trim","nickName","avatar","groups","friends","recent","id","unread","Number","last","Date","getTime","del","status","login","first","createdAt","statics","get","findById","execAsync","then","user","err","NOT_FOUND","reject","updateUser","u","findOne","name","findUserId","tk","list","options","query","page","limit","col","column","undefined","sort","find","skip","listCol","model"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA;;;AAGA,IAAMA,aAAa,IAAI,mBAASC,MAAb,CAAoB;AACrCC,UAAQ,EAAEC,MAAOC,MAAT,EAAiBC,SAAU,EAA3B,EAA+BC,MAAO,IAAtC,EAD6B;AAErCC,YAAU,EAAEJ,MAAOC,MAAT,EAAiBC,SAAU,EAA3B,EAA+BC,MAAO,IAAtC,EAF2B;AAGrCE,UAAQ,EAACL,MAAMC,MAAP,EAAeC,SAAQ,EAAvB,EAA0BC,MAAK,IAA/B,EAH6B;AAIrCG,UAAQ,CAAC,EAAEN,MAAOC,MAAT,EAAD,CAJ6B;AAKrCM,WAAQ,CAAC,EAAEP,MAAOC,MAAT,EAAD,CAL6B;AAMrCO,UAAO,CAAC;AACNR,UAAK,EAACA,MAAKC,MAAN,EAAcC,SAAQ,MAAtB,EADC;AAENO,QAAG,EAACT,MAAKC,MAAN,EAFG;AAGNS,YAAQ,EAACV,MAAKW,MAAN,EAAcT,SAAQ,CAAtB,EAHF;AAINU,UAAK,EAACZ,MAAKW,MAAN,EAAaT,SAAQ,IAAIW,IAAJ,GAAWC,OAAX,EAArB,EAJC;AAKNC,SAAI,EAACf,MAAKW,MAAN,EAAaT,SAAQ,CAArB;AALE,GAAD,CAN8B;AAarCc,UAAQ,EAAEhB,MAAOC,MAAT,EAAiBC,SAAU,EAA3B,EAA+BC,MAAO,IAAtC,EAb6B;AAcrCc,SAAM,CAAC,EAACjB,MAAKW,MAAN,EAAD,CAd+B;AAerCO,SAAM,EAAClB,MAAMW,MAAP,EAf+B;AAgBrCC,QAAK,EAACZ,MAAMW,MAAP,EAhBgC;AAiBrCQ,aAAa,EAAEnB,MAAOW,MAAT,EAAiBT,SAAU,IAAIW,IAAJ,GAAWC,OAAX,EAA3B;AAjBwB,CAApB,CAAnB;;AAoBA;;;;;;;AAOA;;;AAGAjB,WAAWuB,OAAX,GAAqB;AACnB;;;;;AAKAC,KANmB,eAMfZ,EANe,EAMX;AACN,WAAO,KAAKa,QAAL,CAAcb,EAAd,EACJc,SADI,GACQC,IADR,CACa,UAACC,IAAD,EAAU;AAC1B,UAAIA,IAAJ,EAAU;AACR,eAAOA,IAAP;AACD;AACD,UAAMC,MAAM,uBAAa,sBAAb,EAAqC,qBAAWC,SAAhD,CAAZ;AACA,aAAO,mBAAQC,MAAR,CAAeF,GAAf,CAAP;AACD,KAPI,CAAP;AAQD,GAfkB;AAiBnBG,YAjBmB,sBAiBRC,CAjBQ,EAiBN;AACX,WAAO,KAAKC,OAAL,CAAa,EAAChC,QAAO+B,EAAE/B,MAAV,EAAb,EAAgCwB,SAAhC,GAA4CC,IAA5C,CAAiD,UAACC,IAAD,EAAQ;AAC9D,UAAGA,IAAH,EAAQ;AACNA,aAAKrB,QAAL,GAAgB0B,EAAEE,IAAlB;AAED;AACF,KALM,CAAP;AAMD,GAxBkB;AAyBnBC,YAzBmB,sBAyBRC,EAzBQ,EAyBL;AACZ,WAAO,KAAKH,OAAL,CAAa,EAAC,UAASG,EAAV,EAAb,EACJX,SADI,GACQC,IADR,CACa,UAACC,IAAD,EAAU;AAC1B,UAAIA,IAAJ,EAAU;AACR,eAAOA,IAAP;AACD;AACD,UAAMC,MAAM,uBAAa,sBAAb,EAAqC,qBAAWC,SAAhD,CAAZ;AACA,aAAO,mBAAQC,MAAR,CAAeF,GAAf,CAAP;AACD,KAPI,CAAP;AAQD,GAlCkB;;;AAoCnB;;;;;;AAMAS,MA1CmB,kBA0CA;AAAA,QAAdC,OAAc,uEAAJ,EAAI;;AACjB,QAAMC,QAAQD,QAAQC,KAAR,IAAiB,EAA/B;AACA,QAAMC,OAAOF,QAAQE,IAAR,IAAgB,CAA7B;AACA,QAAMC,QAAQH,QAAQG,KAAR,IAAiB,EAA/B;AACA,QAAMC,MAAMJ,QAAQK,MAAR,IAAkBC,SAA9B;AACA,QAAMC,OAAOP,QAAQO,IAAR,IAAgB,EAAExB,WAAW,CAAC,CAAd,EAA7B;AACA,WAAO,KAAKyB,IAAL,CAAUP,KAAV,EAAgBG,GAAhB,EACJG,IADI,CACCA,IADD,EAEJE,IAFI,CAECP,OAAKC,KAFN,EAGJA,KAHI,CAGEA,KAHF,EAIJhB,SAJI,EAAP;AAKD,GArDkB;AAsDnBuB,SAtDmB,qBAsDG;AAAA,QAAdV,OAAc,uEAAJ,EAAI;;AACpB,QAAMC,QAAQD,QAAQC,KAAR,IAAiB,EAA/B;AACA,QAAMG,MAAMJ,QAAQK,MAAR,IAAkB,qBAA9B;AACA,WAAO,KAAKG,IAAL,CAAUP,KAAV,EAAgBG,GAAhB,EACJG,IADI,CACC,EAAExB,WAAW,CAAC,CAAd,EADD,EAEJI,SAFI,EAAP;AAGD;AA5DkB,CAArB;;AA+DA;;;kBAGe,mBAASwB,KAAT,CAAe,MAAf,EAAuBlD,UAAvB,C","file":"user.js","sourceRoot":"../../../../.."}