{"version":3,"sources":["server/models/message.js"],"names":["MessageSchema","Schema","from","type","ObjectId","ref","toUser","toGroup","content","String","default","trim","state","Number","time","Date","getTime","methods","statics","get","id","findById","execAsync","then","message","err","NOT_FOUND","reject","list","options","criteria","query","page","limit","sort","find","skip","listCol","col","column","model"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA;;;AAGA,IAAMA,gBAAgB,IAAI,mBAASC,MAAb,CAAoB;AACxCC,QAAM,EAAEC,MAAO,mBAASF,MAAT,CAAgBG,QAAzB,EAAmCC,KAAK,MAAxC,EADkC;AAExCC,UAAS,EAAEH,MAAO,mBAASF,MAAT,CAAgBG,QAAzB,EAAmCC,KAAK,MAAxC,EAF+B;AAGxCE,WAAU,EAAEJ,MAAO,mBAASF,MAAT,CAAgBG,QAAzB,EAAmCC,KAAK,OAAxC,EAH8B;AAIxCG,WAAU,EAACL,MAAMM,MAAP,EAAcC,SAAU,EAAxB,EAA4BC,MAAO,IAAnC,EAJ8B;AAKxCC,SAAQ,EAAET,MAAMU,MAAR,EAAgBH,SAAS,CAAzB,EALgC;AAMxCI,QAAO,EAAEX,MAAOU,MAAT,EAAiBH,SAAU,IAAIK,IAAJ,GAAWC,OAAX,EAA3B;AANiC,CAApB,CAAtB;;AASA;;;;;;;AAOA;;;AAGAhB,cAAciB,OAAd,GAAwB,EAAxB;;AAIA;;;AAGAjB,cAAckB,OAAd,GAAwB;AACtB;;;;;AAKAC,KANsB,eAMlBC,EANkB,EAMd;AACN,WAAO,KAAKC,QAAL,CAAcD,EAAd,EACJE,SADI,GACQC,IADR,CACa,UAACC,OAAD,EAAa;AAC7B,UAAIA,OAAJ,EAAa;AACX,eAAOA,OAAP;AACD;AACD,UAAMC,MAAM,uBAAa,yBAAb,EAAwC,qBAAWC,SAAnD,CAAZ;AACA,aAAO,mBAAQC,MAAR,CAAeF,GAAf,CAAP;AACD,KAPI,CAAP;AAQD,GAfqB;;;AAiBtB;;;;;;;AAOAG,MAxBsB,kBAwBH;AAAA,QAAdC,OAAc,uEAAJ,EAAI;;AACjB,QAAMC,WAAWD,QAAQE,KAAR,IAAiB,EAAlC;AACA,QAAMC,OAAOH,QAAQG,IAAR,IAAgB,CAA7B;AACA,QAAMC,QAAQJ,QAAQI,KAAR,IAAiB,EAA/B;AACA,QAAMC,OAAOL,QAAQK,IAAR,IAAgB,EAAEpB,MAAM,CAAR,EAA7B;AACA,WAAO,KAAKqB,IAAL,CAAUL,QAAV,EACJI,IADI,CACCA,IADD,EAEJE,IAFI,CAECJ,OAAKC,KAFN,EAGJA,KAHI,CAGEA,KAHF,EAIJX,SAJI,EAAP;AAKD,GAlCqB;AAmCtBe,SAnCsB,qBAmCA;AAAA,QAAdR,OAAc,uEAAJ,EAAI;;AACpB,QAAMC,WAAWD,QAAQC,QAAR,IAAoB,EAArC;AACA,QAAMQ,MAAMT,QAAQU,MAAR,IAAkB,oCAA9B;AACA,WAAO,KAAKJ,IAAL,CAAUL,QAAV,EAAmBQ,GAAnB,EACJJ,IADI,CACC,EAAEpB,MAAM,CAAR,EADD,EAEJQ,SAFI,EAAP;AAGD;AAzCqB,CAAxB;;AA4CA;;;kBAGe,mBAASkB,KAAT,CAAe,SAAf,EAA0BxC,aAA1B,C","file":"message.js","sourceRoot":"../../../../.."}